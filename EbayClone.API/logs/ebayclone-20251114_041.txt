2025-11-14 07:47:44.481 +07:00 [INF] Starting EbayClone.API
2025-11-14 07:47:44.554 +07:00 [INF] Order Timeout Background Service started
2025-11-14 07:47:44.663 +07:00 [INF] Escrow Release Background Service started
2025-11-14 07:47:44.671 +07:00 [INF] RabbitMQ Consumer Service started
2025-11-14 07:47:53.531 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.557 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.563 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.612 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.617 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.619 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.625 +07:00 [WRN] Navigations 'PaymentInfo.Order' and 'Order.Payment' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.629 +07:00 [WRN] Navigations 'PaymentInfo.Order' and 'Order.Payment' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.632 +07:00 [WRN] Navigations 'PaymentInfo.Order' and 'Order.Payment' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.637 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.640 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.643 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.646 +07:00 [WRN] Navigations 'ShippingInfo.Order' and 'Order.Shipping' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.650 +07:00 [WRN] Navigations 'ShippingInfo.Order' and 'Order.Shipping' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.652 +07:00 [WRN] Navigations 'ShippingInfo.Order' and 'Order.Shipping' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.656 +07:00 [WRN] Navigations 'Order.Escrow' and 'EscrowInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.659 +07:00 [WRN] Navigations 'Order.Escrow' and 'EscrowInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.662 +07:00 [WRN] Navigations 'Order.Escrow' and 'EscrowInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.665 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.668 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.671 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 07:47:53.813 +07:00 [WRN] No store type was specified for the decimal property 'DiscountAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-14 07:47:53.817 +07:00 [WRN] No store type was specified for the decimal property 'ShippingFee' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-14 07:47:53.819 +07:00 [WRN] No store type was specified for the decimal property 'Rating' on entity type 'User'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-14 07:47:54.223 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-14 07:47:54.226 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-14 07:48:00.532 +07:00 [INF] Order created: 060037d3-75a1-4335-bcbb-842aa3a86ea5, Total: £9,010.00
2025-11-14 07:48:11.746 +07:00 [INF] Escrow created for order 060037d3-75a1-4335-bcbb-842aa3a86ea5: Amount=£9,010.00, ReleaseDate=2025-12-05, Period=21 days
2025-11-14 07:48:11.748 +07:00 [INF] Payment completed for order 060037d3-75a1-4335-bcbb-842aa3a86ea5: CaptureId=1H378386RW309510M
2025-11-14 07:48:11.815 +07:00 [INF] 
=== EMAIL SENT ===
To: 1AEA426A-718D-4726-965C-90948EB39BBB
Subject: Payment Confirmed - Order #060037d3-75a1-4335-bcbb-842aa3a86ea5
Body: 
                <html>
                <body style='font-family: Arial, sans-serif;'>
                    <h2>Payment Successful!</h2>
                    <p>Dear Customer,</p>
                 ...
==================
2025-11-14 07:48:11.820 +07:00 [INF] Payment confirmation email sent for order 060037d3-75a1-4335-bcbb-842aa3a86ea5
2025-11-14 07:49:34.002 +07:00 [INF] Order created: 1f7e162a-34b9-4b3b-bfef-1039f219f792, Total: £140.00
2025-11-14 07:51:43.141 +07:00 [INF] Order created: a9eaac82-141d-48bb-8518-846917d97c91, Total: £200.00
2025-11-14 07:51:55.439 +07:00 [INF] Escrow created for order a9eaac82-141d-48bb-8518-846917d97c91: Amount=£200.00, ReleaseDate=2025-12-05, Period=21 days
2025-11-14 07:51:55.442 +07:00 [INF] Payment completed for order a9eaac82-141d-48bb-8518-846917d97c91: CaptureId=49W0514163645530E
2025-11-14 07:51:55.447 +07:00 [INF] 
=== EMAIL SENT ===
To: 1AEA426A-718D-4726-965C-90948EB39BBB
Subject: Payment Confirmed - Order #a9eaac82-141d-48bb-8518-846917d97c91
Body: 
                <html>
                <body style='font-family: Arial, sans-serif;'>
                    <h2>Payment Successful!</h2>
                    <p>Dear Customer,</p>
                 ...
==================
2025-11-14 07:51:55.449 +07:00 [INF] Payment confirmation email sent for order a9eaac82-141d-48bb-8518-846917d97c91
2025-11-14 07:52:34.338 +07:00 [INF] Order created: 4d8e96b1-1e84-4c7a-bec7-fb13ac978bc4, Total: £200.00
2025-11-14 07:52:44.771 +07:00 [INF] Escrow created for order 4d8e96b1-1e84-4c7a-bec7-fb13ac978bc4: Amount=£200.00, ReleaseDate=2025-12-05, Period=21 days
2025-11-14 07:52:44.774 +07:00 [INF] Payment completed for order 4d8e96b1-1e84-4c7a-bec7-fb13ac978bc4: CaptureId=39E44497XL0546412
2025-11-14 07:52:44.778 +07:00 [INF] 
=== EMAIL SENT ===
To: 1AEA426A-718D-4726-965C-90948EB39BBB
Subject: Payment Confirmed - Order #4d8e96b1-1e84-4c7a-bec7-fb13ac978bc4
Body: 
                <html>
                <body style='font-family: Arial, sans-serif;'>
                    <h2>Payment Successful!</h2>
                    <p>Dear Customer,</p>
                 ...
==================
2025-11-14 07:52:44.781 +07:00 [INF] Payment confirmation email sent for order 4d8e96b1-1e84-4c7a-bec7-fb13ac978bc4
2025-11-14 07:55:45.398 +07:00 [INF] Order created: f07c4f48-025a-410c-88be-84a88c433097, Total: £200.00
2025-11-14 07:55:55.655 +07:00 [INF] Escrow created for order f07c4f48-025a-410c-88be-84a88c433097: Amount=£200.00, ReleaseDate=2025-12-05, Period=21 days
2025-11-14 07:55:55.657 +07:00 [INF] Payment completed for order f07c4f48-025a-410c-88be-84a88c433097: CaptureId=1PM47129UC564734W
2025-11-14 07:55:55.660 +07:00 [INF] 
=== EMAIL SENT ===
To: 1AEA426A-718D-4726-965C-90948EB39BBB
Subject: Payment Confirmed - Order #f07c4f48-025a-410c-88be-84a88c433097
Body: 
                <html>
                <body style='font-family: Arial, sans-serif;'>
                    <h2>Payment Successful!</h2>
                    <p>Dear Customer,</p>
                 ...
==================
2025-11-14 07:55:55.662 +07:00 [INF] Payment confirmation email sent for order f07c4f48-025a-410c-88be-84a88c433097
2025-11-14 07:56:09.428 +07:00 [INF] Order created: 9924e407-7013-4494-ac45-05d1ad96cb87, Total: £200.00
2025-11-14 07:56:22.400 +07:00 [INF] Escrow created for order 9924e407-7013-4494-ac45-05d1ad96cb87: Amount=£200.00, ReleaseDate=2025-12-05, Period=21 days
2025-11-14 07:56:22.402 +07:00 [INF] Payment completed for order 9924e407-7013-4494-ac45-05d1ad96cb87: CaptureId=9FC43002SU998160C
2025-11-14 07:56:22.406 +07:00 [INF] 
=== EMAIL SENT ===
To: 1AEA426A-718D-4726-965C-90948EB39BBB
Subject: Payment Confirmed - Order #9924e407-7013-4494-ac45-05d1ad96cb87
Body: 
                <html>
                <body style='font-family: Arial, sans-serif;'>
                    <h2>Payment Successful!</h2>
                    <p>Dear Customer,</p>
                 ...
==================
2025-11-14 07:56:22.408 +07:00 [INF] Payment confirmation email sent for order 9924e407-7013-4494-ac45-05d1ad96cb87
2025-11-14 08:32:11.374 +07:00 [INF] Starting EbayClone.API
2025-11-14 08:32:11.545 +07:00 [INF] Order Timeout Background Service started
2025-11-14 08:32:11.987 +07:00 [INF] Escrow Release Background Service started
2025-11-14 08:32:12.022 +07:00 [INF] RabbitMQ Consumer Service started
2025-11-14 08:32:31.355 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.381 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.395 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.459 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.465 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.468 +07:00 [WRN] Navigations 'Order.Payment' and 'PaymentInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.474 +07:00 [WRN] Navigations 'PaymentInfo.Order' and 'Order.Payment' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.478 +07:00 [WRN] Navigations 'PaymentInfo.Order' and 'Order.Payment' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.481 +07:00 [WRN] Navigations 'PaymentInfo.Order' and 'Order.Payment' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.485 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.488 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.491 +07:00 [WRN] Navigations 'Order.Shipping' and 'ShippingInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.494 +07:00 [WRN] Navigations 'ShippingInfo.Order' and 'Order.Shipping' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.499 +07:00 [WRN] Navigations 'ShippingInfo.Order' and 'Order.Shipping' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.502 +07:00 [WRN] Navigations 'ShippingInfo.Order' and 'Order.Shipping' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.506 +07:00 [WRN] Navigations 'Order.Escrow' and 'EscrowInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.509 +07:00 [WRN] Navigations 'Order.Escrow' and 'EscrowInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.514 +07:00 [WRN] Navigations 'Order.Escrow' and 'EscrowInfo.Order' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.519 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.522 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.524 +07:00 [WRN] Navigations 'EscrowInfo.Order' and 'Order.Escrow' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2025-11-14 08:32:31.717 +07:00 [WRN] No store type was specified for the decimal property 'DiscountAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-14 08:32:31.722 +07:00 [WRN] No store type was specified for the decimal property 'ShippingFee' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-14 08:32:31.724 +07:00 [WRN] No store type was specified for the decimal property 'Rating' on entity type 'User'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-14 08:32:32.459 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-14 08:32:32.462 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-14 08:32:45.646 +07:00 [INF] 
=== EMAIL SENT ===
To: hoan0912527403@gmail.com
Subject: ga
Body: alo...
==================
2025-11-14 08:32:49.808 +07:00 [INF] Order created: 72c44245-394e-40d9-aa4a-a91324413b7b, Total: £140.00
2025-11-14 08:33:30.939 +07:00 [INF] Escrow created for order 72c44245-394e-40d9-aa4a-a91324413b7b: Amount=£140.00, ReleaseDate=2025-12-05, Period=21 days
2025-11-14 08:33:30.942 +07:00 [INF] Payment completed for order 72c44245-394e-40d9-aa4a-a91324413b7b: CaptureId=6K396533YE162380R
2025-11-14 08:33:31.023 +07:00 [INF] 
=== EMAIL SENT ===
To: 1AEA426A-718D-4726-965C-90948EB39BBB
Subject: Payment Confirmed - Order #72c44245-394e-40d9-aa4a-a91324413b7b
Body: 
                <html>
                <body style='font-family: Arial, sans-serif;'>
                    <h2>Payment Successful!</h2>
                    <p>Dear Customer,</p>
                 ...
==================
2025-11-14 08:33:31.089 +07:00 [ERR] Failed to send email
System.FormatException: The specified string is not in the form required for an e-mail address.
   at System.Net.Mail.MailAddressParser.TryReadCfwsAndThrowIfIncomplete(String data, Int32 index, Int32& outIndex, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseDomain(String data, Int32& index, String& domain, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, Boolean expectMultipleAddresses, Int32& index, ParseAddressInfo& parseAddressInfo, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.ParseMultipleAddresses(String data)
   at System.Net.Mail.MailAddressCollection.ParseValue(String addresses)
   at EbayClone.API.Services.EmailService.SendEmailAsync(String to, String subject, String body) in C:\Users\thang\source\repos\HE186961_DuongXuanThang_Ass1\FUNewsManagementSystem\EbayClone\EbayClone.API\Services\EmailService.cs:line 281
2025-11-14 08:33:31.169 +07:00 [ERR] Failed to send payment confirmation email for order 72c44245-394e-40d9-aa4a-a91324413b7b
System.FormatException: The specified string is not in the form required for an e-mail address.
   at System.Net.Mail.MailAddressParser.TryReadCfwsAndThrowIfIncomplete(String data, Int32 index, Int32& outIndex, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseDomain(String data, Int32& index, String& domain, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, Boolean expectMultipleAddresses, Int32& index, ParseAddressInfo& parseAddressInfo, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.ParseMultipleAddresses(String data)
   at System.Net.Mail.MailAddressCollection.ParseValue(String addresses)
   at EbayClone.API.Services.EmailService.SendEmailAsync(String to, String subject, String body) in C:\Users\thang\source\repos\HE186961_DuongXuanThang_Ass1\FUNewsManagementSystem\EbayClone\EbayClone.API\Services\EmailService.cs:line 281
   at EbayClone.API.Services.EmailService.SendPaymentConfirmationEmailAsync(Order order) in C:\Users\thang\source\repos\HE186961_DuongXuanThang_Ass1\FUNewsManagementSystem\EbayClone\EbayClone.API\Services\EmailService.cs:line 69
